Summary: Protobufs for communicating with EosSdkRpc and EosSdkRpcClient
Name: EosSdkRpcProtos
Version: 1.0.4
Release: %{?release:%{release}}%{!?release:eng}
Source0: %{name}-%{version}.tar.gz
License: Arista Networks
Group: Arista/Software
BuildRoot: %{_tmppath}/%{name}-root
Url: http://www.AristaNetworks.com

Conflicts: EosSdkRpc <= 1.0.3

# NOTE: Please do NOT put the names of macros into any comments in this
#       file, or you will find yourself wading through very baffling RPM
#       error messages.

%{expand: %define _eosgosrc %(echo $EOSGOSRC) }
%{expand: %define _eosgopkg %(echo $EOSGOPKG) }

%description
Protobufs for communicating with the EosSdkRpc and EosSdkRpcClient.
This package contains the generated python protobufs.

%package lib
Summary: EosSdkRpcProtos lib package
Group: Arista/Libraries

%description lib
EosSdkRpcProtos files that belong in EOS.swi and are shared with other packages.

%package devel
Summary: EosRemoteSdk devel package
Group: Arista/Development Files

%description devel
EosRemoteSdk files used by other packages during development.

%prep
%setup -q

%build
%arista_build

%install
%arista_install
# Please do not change this section.
# See src/Hello/Hello.spec for details, the gist of which is,
# workspace VM's won't work if "make install" in each package doesn't
# get the tree into a bootable state, and putting fancy logic into the
# 'install' rule in the spec file makes it less likely that "make
# install" will be adequate.

%clean

%files
%defattr(-,root,root)
%{_datadir}/EosSdkRpcProtos/proto/bgp.proto
%{_datadir}/EosSdkRpcProtos/proto/bgp_path.proto
%{_datadir}/EosSdkRpcProtos/proto/defs.proto
%{_datadir}/EosSdkRpcProtos/proto/eapi.proto
%{_datadir}/EosSdkRpcProtos/proto/EosSdkRpc.proto
%{python_sitelib}/bgp_pb2.py*
%{python3_sitelib}/bgp_pb2.py
%{python3_sitelib}/__pycache__/bgp_pb2.cpython*
%{python_sitelib}/bgp_pb2_grpc.py*
%{python3_sitelib}/bgp_pb2_grpc.py
%{python3_sitelib}/__pycache__/bgp_pb2_grpc.cpython*
%{python_sitelib}/bgp_path_pb2.py*
%{python3_sitelib}/bgp_path_pb2.py
%{python3_sitelib}/__pycache__/bgp_path_pb2.cpython*
%{python_sitelib}/bgp_path_pb2_grpc.py*
%{python3_sitelib}/bgp_path_pb2_grpc.py
%{python3_sitelib}/__pycache__/bgp_path_pb2_grpc.cpython*
%{python_sitelib}/defs_pb2.py*
%{python3_sitelib}/defs_pb2.py
%{python3_sitelib}/__pycache__/defs_pb2.cpython*
%{python_sitelib}/defs_pb2_grpc.py*
%{python3_sitelib}/defs_pb2_grpc.py
%{python3_sitelib}/__pycache__/defs_pb2_grpc.cpython*
%{python_sitelib}/eapi_pb2.py*
%{python3_sitelib}/eapi_pb2.py
%{python3_sitelib}/__pycache__/eapi_pb2.cpython*
%{python_sitelib}/eapi_pb2_grpc.py*
%{python3_sitelib}/eapi_pb2_grpc.py
%{python3_sitelib}/__pycache__/eapi_pb2_grpc.cpython*
%{python_sitelib}/EosSdkRpc_pb2.py*
%{python3_sitelib}/EosSdkRpc_pb2.py
%{python3_sitelib}/__pycache__/EosSdkRpc_pb2.cpython*
%{python_sitelib}/EosSdkRpc_pb2_grpc.py*
%{python3_sitelib}/EosSdkRpc_pb2_grpc.py
%{python3_sitelib}/__pycache__/EosSdkRpc_pb2_grpc.cpython*

%files lib
%defattr(-,root,root)
%{_libdir}/libEosSdkRpcProtos.so*

%files devel
%defattr(-,root,root)
%{_includedir}/EosSdkRpcProtos
